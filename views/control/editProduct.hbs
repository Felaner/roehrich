<div class="container">
    <div class="row justify-content-center mb-5 mt-5">
        <div class="col-12">
            <h3 class="text-center mb-3">Редактирование товара "{{product.name}}"</h3>
        </div>
        {{#if editSuccess}}
            <div class="col-7">
                <div class="alert alert-success text-center">{{editSuccess}}</div>
            </div>
        {{/if}}
        <div class="col-8">
            <form action="/control/edit-product/{{product.id}}" method="post" enctype="multipart/form-data">
                <div class="form-group f-18">
                    <label for="productName">Название товара *</label>
                    <input name="productName" type="text" id="productName" class="form-control" value="{{product.name}}">
                </div>
                <div class="form-group f-18">
                    <label for="productCategory">Категория товара *</label>
                    <select name="productCategory" id="productCategory" class="form-control">
                        {{#if divides}}
                            <option value="" disabled>Выберите категорию</option>
                            {{#each divides}}
                                {{#ifeq this.name ../product.category}}
                                    <option value="{{name}}" selected>{{name}}</option>
                                {{else}}
                                    <option value="{{name}}">{{name}}</option>
                                {{/ifeq}}
                            {{/each}}
                        {{else}}
                            <option value="" selected disabled>Категории отсутствуют</option>
                        {{/if}}
                    </select>
                </div>
                <div class="form-group f-18">
                    <label for="productDescription">Описание товара *</label>
                    <textarea name="productDescription" id="productDescription" class="form-control">{{product.description}}</textarea>
                </div>
                <!--Характеристики-->
                <div class="row">
                    <div class="col-lg-6 col-12">
                        <div class="form-group f-18">
                            <label for="productDiameter">Диаметр условный DN, мм</label>
                            <input name="productDiameter" type="number" step="0.01" id="productDiameter" class="form-control" value="{{product.diameter}}">
                        </div>
                    </div>
                    <div class="col-lg-6 col-12">
                        <div class="form-group f-18">
                            <label for="productExternalDiameter">Внешний диаметр, мм</label>
                            <input name="productExternalDiameter" type="number" step="0.01" id="productExternalDiameter" class="form-control" value="{{product.externalDiameter}}">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-12">
                        <div class="form-group f-18">
                            <label for="productPressure">Номинальное давление PN,МПа</label>
                            <input name="productPressure" type="number" step="0.1" id="productPressure" class="form-control" value="{{product.pressure}}">
                        </div>
                    </div>
                    <div class="col-lg-6 col-12">
                        <div class="form-group f-18">
                            <label for="productDepth">Толщина стенки, мм</label>
                            <input name="productDepth" id="productDepth" class="form-control" value="{{product.depth}}">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xl-5 col-12">
                        <div class="form-group f-18">
                            <label for="productEnviron">Рабочая среда</label>
                            <input name="productEnviron" type="text" id="productEnviron" class="form-control" value="{{product.environ}}">
                        </div>
                    </div>
                    <div class="col-xl-7 col-12">
                        <div class="form-group f-18">
                            <label for="productTemp">Максимальная температура рабочей среды, C<sup>о</sup></label>
                            <input name="productTemp" type="number" step="0.01" id="productTemp" class="form-control" value="{{product.temp}}">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 col-12">
                        <div class="form-group f-18">
                            <label for="productMaterial">Материал корпуса</label>
                            <input name="productMaterial" type="text" id="productMaterial" class="form-control" value="{{product.material}}">
                        </div>
                    </div>
                    <div class="col-md-4 col-12">
                        <div class="form-group f-18">
                            <label for="productConnect">Тип соединения</label>
                            <input name="productConnect" type="text" id="productConnect" class="form-control" value="{{product.connect}}">
                        </div>
                    </div>
                    <div class="col-md-4 col-12">
                        <div class="form-group f-18">
                            <label for="productDimension">Единица измерения</label>
                            <input name="productDimension" type="text" id="productDimension" class="form-control" value="{{product.dimension}}">
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-xl-6 col-12">
                        <div class="form-group f-18">
                            <label for="productCount">Минимальное количество для заказа</label>
                            <input name="productCount" type="number" id="productCount" class="form-control" value="{{product.count}}">
                        </div>
                    </div>
                    <div class="col-xl-6 col-12">
                        <div class="form-group f-18">
                            <label for="productPrice">Цена товара (за единицу)</label>
                            <input name="productPrice" type="number" step="0.01" id="productPrice" class="form-control" value="{{product.price}}">
                        </div>
                    </div>
                </div>
                <h3>Размеры</h3>
                <section class="sizes">
                    {{#each product.Sizes}}
                        <div class="form-group add-sizes position-relative">
                            <div class="divider"></div>
                            <div class="row mb-5">
                                <div class="col-lg-4 col-6">
                                    <div class="form-group f-18">
                                        <label for="productWeight">Вес</label>
                                        <input name="productWeight" type="number" step="0.01" id="productWeight" class="form-control" value="{{weight}}">
                                    </div>
                                </div>
                                <div class="col-lg-4 col-6">
                                    <div class="form-group f-18">
                                        <label for="productVolume">Объем</label>
                                        <input name="productVolume" type="number" step="0.00001" id="productVolume" class="form-control" value="{{volume}}">
                                    </div>
                                </div>
                                <div class="col-lg-4 col-12">
                                    <div class="form-group f-18">
                                        <label for="productGost">Соответствие ГОСТ</label>
                                        <input name="productGost" type="text" id="productGost" class="form-control" value="{{gost}}">
                                    </div>
                                </div>
                            </div>
                            <a class="delete-size"><img src="/images/icons/close.svg" alt=""></a>
                        </div>
                    {{/each}}
                </section>
                <a class="divide-button add-size p-2">Добавить размер</a>
                <div class="form-group mt-3">
                    <label class="f-18" for="editProductImage">Добавьте изображения</label>
                    <div class="fileinput-wrapper">
                        <div class="file-upload">
                            <label>
                                <input type="file" name="editProductImage" multiple>
                                <span>Выбрать файл</span>
                            </label>
                        </div>
                        <input type="text" id="filename" class="filename" placeholder="Название изображения" disabled>
                    </div>
                </div>
                <div class="form-group mt-3 d-sm-block d-flex justify-content-center">
                    <button type="submit" class="divide-button">Сохранить</button>
                </div>
            </form>
            <form action="/control/edit-product/{{product.id}}/remove" method="POST" class="mt-3 mt-sm-5 d-sm-block d-flex justify-content-center">
                <button type="submit" class="divide-button">Удалить товар</button>
            </form>
        </div>
    </div>
</div>